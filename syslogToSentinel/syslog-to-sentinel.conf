# file: syslog-to-sentinel.conf
input {
  syslog {
    port => 12345
    codec => cef
    syslog_field => "syslog"
    grok_pattern => "<%{POSINT:priority}>%{SYSLOGTIMESTAMP:timestamp} CUSTOM GROK HERE"
  }
}
output {
    azure_loganalytics {
        customer_id => "2cfabee8-4b6d-4e41-9926-4b46c2e6785a"
        shared_key => "7y2BvGrUiS6trnDntnaGDSbGI906R4V6o8XJ1lvO059/Wp+e7xlcvLFcodz+igXAGxhJG2Glch16/2Ryd8vi+g=="
        log_type => "LogstashSyslog"
        key_names  => ['timestamp','event','message','username','ipaddress']
        flush_items => 10
        flush_interval_time => 5
    }
        # for debug
    stdout { codec => rubydebug }
}